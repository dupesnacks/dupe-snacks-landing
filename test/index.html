<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dupe Snacks - Find Your Snack Dupe üç™üî•</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- NAVBAR -->
    <nav>
        <div class="logo" onclick="navigateToHome()">üç™ Dupe Snacks</div>
        
        <div class="nav-search-container">
            <input type="text" class="search-input" placeholder="Find your snack dupe (e.g., Oreos)...">
        </div>

        <div class="nav-links">
            <a href="browse.html" class="nav-link">Browse</a>
            <a href="#" class="nav-link" onclick="event.preventDefault(); alert('About: Dupe Snacks helps you find gluten-free alternatives to your favorite snacks!')">About</a>
            <a href="#" class="nav-link" onclick="event.preventDefault(); alert('Contact us at hello@dupesnacks.com')">Contact</a>
        </div>

        <button class="hamburger" id="mobileMenu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- MAIN CONTENT -->
    <main>
        <div id="mainContent"></div>
    </main>

    <!-- MODALS -->
    
    <!-- Product Detail Modal -->
    <div class="modal-overlay" id="productModalOverlay"></div>
    <div class="modal" id="productModal">
        <div id="productModalContent"></div>
    </div>

    <!-- Filter Modal (Mobile) -->
    <div class="modal-overlay" id="filterOverlay"></div>
    <div class="modal" id="filterModal">
        <div class="modal-handle"></div>
        <h2 class="modal-title">üîß Filter Dupes</h2>

        <!-- Price Range -->
        <div class="filter-group">
            <label class="filter-label">Price Range</label>
            <input type="range" class="slider" id="priceSlider" min="0" max="10" value="10" 
                   oninput="appState.filters.price[1] = parseFloat(this.value); renderBrowsePage();">
            <div class="price-range">
                <span>$0</span>
                <span id="priceDisplay">$10+</span>
            </div>
        </div>

        <!-- Retailer -->
        <div class="filter-group">
            <label class="filter-label">Retailer</label>
            <div class="filter-option">
                <input type="checkbox" id="amazonCheck" class="checkbox" checked onchange="updateRetailers()">
                <label for="amazonCheck">Amazon</label>
            </div>
            <div class="filter-option">
                <input type="checkbox" id="walmartCheck" class="checkbox" checked onchange="updateRetailers()">
                <label for="walmartCheck">Walmart</label>
            </div>
            <div class="filter-option">
                <input type="checkbox" id="targetCheck" class="checkbox" checked onchange="updateRetailers()">
                <label for="targetCheck">Target</label>
            </div>
        </div>

        <!-- Features -->
        <div class="filter-group">
            <label class="filter-label">Features</label>
            <div class="filter-option">
                <input type="checkbox" id="certifiedCheck" class="checkbox" onchange="updateFeatures()">
                <label for="certifiedCheck">Certified Gluten-Free</label>
            </div>
            <div class="filter-option">
                <input type="checkbox" id="organicCheck" class="checkbox" onchange="updateFeatures()">
                <label for="organicCheck">Organic</label>
            </div>
            <div class="filter-option">
                <input type="checkbox" id="veganCheck" class="checkbox" onchange="updateFeatures()">
                <label for="veganCheck">Vegan</label>
            </div>
        </div>

        <!-- Actions -->
        <div class="modal-footer">
            <button class="btn" style="flex: 1;" onclick="closeFilters(); renderBrowsePage();">Apply Filters</button>
            <button class="btn btn-secondary" style="flex: 1;" onclick="closeFilters()">Close</button>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="app.js"></script>
    <script>
        // Mobile menu handler
        document.getElementById('mobileMenu').addEventListener('click', function() {
            this.style.transform = this.style.transform === 'rotate(90deg)' ? 'rotate(0)' : 'rotate(90deg)';
        });

        // Filter helpers
        function updateRetailers() {
            const retailers = [];
            if (document.getElementById('amazonCheck').checked) retailers.push('Amazon');
            if (document.getElementById('walmartCheck').checked) retailers.push('Walmart');
            if (document.getElementById('targetCheck').checked) retailers.push('Target');
            appState.filters.retailers = retailers;
        }

        function updateFeatures() {
            const features = [];
            if (document.getElementById('certifiedCheck').checked) features.push('Certified');
            if (document.getElementById('organicCheck').checked) features.push('Organic');
            if (document.getElementById('veganCheck').checked) features.push('Vegan');
            appState.filters.features = features;
        }

        // Price slider display
        document.getElementById('priceSlider')?.addEventListener('input', function(e) {
            const val = parseFloat(e.target.value);
            document.getElementById('priceDisplay').textContent = val === 10 ? '$10+' : '$' + val;
        });
    </script>
</body>
</html>